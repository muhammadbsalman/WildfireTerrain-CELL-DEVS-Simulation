#include(macros.inc)
[top]
components : WildFire

[WildFire]
type : cell
dim : (50,50)
delay : transport
defaultDelayTime  : 60000
border : nowrapped
neighbors : Wildfire(-1,-1) Wildfire(-1,0) Wildfire(-1,1)
neighbors : Wildfire(0,-1) Wildfire(0,0) Wildfire(0,1)
neighbors : Wildfire(1,-1) Wildfire(1,0) Wildfire(1,1)
initialvalue : 3
initialrowvalue :  0      33333333333333333333333335333333333333333333333333
initialrowvalue :  1      33333333330000000000000000000000000000000000000333
initialrowvalue :  2      33333222200001111111111111111113333333333333333333
initialrowvalue :  3      33333222200001111111111111111113333333333333333333
initialrowvalue :  4      33333333322222222000001111111113333333333333333333
initialrowvalue :  5      33333333333333311111111111111111111110000333333333
initialrowvalue :  6      33333333333333333333333331111111111111111111333333
initialrowvalue :  7      33333355333333333333333333111111111111111111112222
initialrowvalue :  8      33333333333333333331111111111111111111111111111111
initialrowvalue :  9      33333333333333333333333333333333333333300000000222
initialrowvalue : 10      33333333333333322222222222222222222222233333333333
initialrowvalue : 11      33333322222222222222222222522333333333333333333333
initialrowvalue : 12      33333333333333222222222222444444422222222222222233
initialrowvalue : 13      33333333334444444444444444444444444333333333333333
initialrowvalue : 14      33553333333444444444444444444444444433333333333333
initialrowvalue : 15      33333333334444444444444444444444444444443333333333
initialrowvalue : 16      33333333334444444444444444444444444333333333333333
initialrowvalue : 17      33333333444444444444444444444444444223333333333333
initialrowvalue : 18      33333333334444444444444444422222222333333333333333
initialrowvalue : 19      33333331114444400004444444444443334444444333333333
initialrowvalue : 20      33333333334444444441111111333334444444444444444333
initialrowvalue : 21      33333333334444444444444004444444443333344433333333
initialrowvalue : 22      33333333334444444444444440000444444444433333335333
initialrowvalue : 23      33333333334444444444444444400004444444433333335333
initialrowvalue : 24      33333333322222222000001111111113333333333333333333
initialrowvalue : 25      33333333333333311111111111111111111110000333333333
initialrowvalue : 26      33333333333333333333333331111111111111111111333333
initialrowvalue : 27      33333333333333333333333331111111111111111111122222
initialrowvalue : 28      33333333333333333331111111111111111111111111111111
initialrowvalue : 29      33333355553333333333333333333333333333333300000000
initialrowvalue : 30      33333333333333322222222222222222222222233333333333
initialrowvalue : 31      33333322222222222222222222522333333333333333333333
initialrowvalue : 32      33333333333333222222222222222222222222222333333333
initialrowvalue : 33      33333333334444444444444444444444444333333353333333
initialrowvalue : 34      33333333334444444444444411114444444444433333335333
initialrowvalue : 35      33333333334444444441111222222144444444443333333533
initialrowvalue : 36      33333333334444444444411112222222221444443333333533
initialrowvalue : 37      33333333334444444444444411111111111111444444444443
initialrowvalue : 38      33333333334444444444444444444444444333333353333333
initialrowvalue : 39      33333333333111111111111111111111111111111111353333
initialrowvalue : 40      33355553333333333322222222222222221111111111111222
initialrowvalue : 41      33333322222222222222222222522333333331111111133333
initialrowvalue : 42      33333333333333222222222222222222222222211111111133
initialrowvalue : 43      33333333334444444444444444444444444333333353333333
initialrowvalue : 44      33333333334444444444444444444444444333333353333333
initialrowvalue : 45      33333333334444440000004444444444444333333353333333
initialrowvalue : 46      33333333334444444444000004444444444333333353333333
initialrowvalue : 47      33333333334444444000000444444444433333335333333333
initialrowvalue : 48      35333333334444444444444444444444444333333353333333
initialrowvalue : 49      33333333333333333333000000000333333333333353333333
initialCellsValue : wildfire.val

localtransition : FireTransformation

[FireTransformation]
%agriculture, state = 1
rule : {5.21} {0.79*60000} {(0,0) = 1 and #macro(checkfire)}

%steep forest, state = 2
rule : {5.7} {0.3*60000} {(0,0) = 2 and #macro(checkfire)}

%dense forest, state = 3
rule : {5.91} {0.09*60000} {(0,0) = 3 and #macro(checkfire)}

%shrubland, state = 4
rule : {5.35} {0.65*60000} {(0,0) = 4 and #macro(checkfire)}

%gradual burnout. Increase the strength of the fire if neighbouring cell is also on fire
rule : {(0,0) + 0.2} {60000} {(0,0)>=5 and (0,0)<6 and #macro(checkfire)}

%gradual burnout
rule : {(0,0) + 0.1} {60000} {(0,0)>=5 and (0,0)<6}

%else for no vegetation or water
rule : {(0,0)} 60000 { t }